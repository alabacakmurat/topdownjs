/**
 * TopdownJS is a product of [MA]Lab <muratalabacak.com>
 * 	v0.6
 * 
 * You can find the full documentation here:
 *		http://workspace.muratalabacak.com/topdownjs/
 */
let $$topdown;window.$$topdown=$$topdown={version:.6,options(t,e){if(e&&"object"!=typeof t){var o=t;(t={})[o]=e}Array.isArray(t)||"object"!=typeof t||(this.pixels=t.pixels||10,"object"!=typeof t.buttons&&(t.buttons={}),t.buttons.cancel=t.buttons&&t.buttons.cancel||this.globalButtons.cancel,t.buttons.dismiss=t.buttons&&t.buttons.dismiss||this.globalButtons.dismiss,t.buttons.confirm=t.buttons&&t.buttons.confirm||this.globalButtons.confirm,this.globalButtons={...this.globalButtons,...t.buttons},Array.isArray(t.fallbackButtons)?this.fallbackButtons=t.fallbackButtons:t.fallbackButtons&&(this.fallbackButtons=[t.fallbackButtons]),"object"==typeof t.titles&&(this.titles={...this.titles,...t.titles}),"object"==typeof t.states&&(this.globalStates={...this.globalStates,...t.states}))},pixels:10,titles:{success:"SUCCESS",error:"ERROR",warning:"WARNING",info:"INFORMATION",confirm:"CONFIRM"},fallbackButtons:["dismiss"],globalButtons:{dismiss:'<button type="button" topdown:dismiss>Close</button>',cancel:'<button type="button" topdown:dismiss>Cancel</button>',confirm:'<button type="button" topdown:dismiss>Confirm</button>'},globalStates:{shown:null,hidden:null},when(t,e){this.globalStates[t]=e},_parent:()=>document.getElementsByTagName("body")[0],_container(){return this.construct(),document.querySelector('div[id="__topdown_container"]')},get container(){return this._container()},_wrapper(){return this.construct(),document.querySelector('div[id="__topdown_container"]>div._topdown_wrapper')},get wrapper(){return this._wrapper()},_title(t){var e=t||"";this.construct();var o=this._wrapper().querySelector("div._topdown_heading>._topdown_title");return""!==e&&(o.innerHTML=Array.isArray(e)?e.join(""):e),o},get titleElement(){return this._titleElement()},set title(t){return this._title(t)},_body(t){var e=t||"";this.construct();var o=this._wrapper().querySelector("div._topdown_body");return""!==e&&(o.innerHTML=Array.isArray(e)?e.join(""):e),o},get bodyElement(){return this._bodyElement()},set body(t){return this._body(t)},set content(t){return this._body(t)},set text(t){return this._body(t)},_buttons(t,e){var o=!0===e&&(t||this.fallbackButtons);this.construct();var i=this._wrapper().querySelector("div._topdown_footer"),n=document.createElement("div");if(!1!==o){var s=this.parseButtons(o);Array.isArray(s)&&(s.forEach(t=>{n.appendChild(t)}),i.innerHTML="",i.appendChild(n))}return i},set buttons(t){return this._buttons(t)},set footer(t){return this._buttons(t)},get footerElement(){return this._footerElement()},centralize(){var t=this._container(),e=document.body.clientWidth;if(e<500)t.style.left="0px",t.style.right="0px",t.style.width="auto",t.style.minWidth="auto";else{var o=(e-t.clientWidth)/2;t.style.left=o+"px",t.style.right=null,t.style.width="40vw",t.style.minWidth="500px"}},construct(t){var e=this._parent(),o=document.querySelector('div[id="__topdown_container"]');if(t=!0===t,o)!0===t&&(this.destruct(),this.construct(!1));else{var i=this._styleTag(),n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");n.appendChild(s),s.type="text/css",s.styleSheet?s.styleSheet.cssText=i:s.appendChild(document.createTextNode(i)),(o=document.createElement("div")).setAttribute("id","__topdown_container"),o.className="force",e.prepend(o),o.innerHTML='<div class="_topdown_wrapper"><div class="_topdown_heading"><a class="_topdown_dismiss" topdown:dismiss>&times;</a><div class="_topdown_title"></div></div><div class="_topdown_body"></div><div class="_topdown_footer"></div></div>',this.centralize(),window.addEventListener("resize",()=>{this.centralize()}),o.style.opacity="0",o.style.display="none",o.style.height="0px"}},destruct(){var t=document.querySelector('div[id="__topdown_container"]');t.parentNode.removeChild(t)},display(t,e,o,i,n){var s,r;this.construct(),this.isFunction(i)?s=i:Array.isArray(i)?s=i.shift():"object"==typeof i&&(s=i.shown||""),this.isFunction(n)?r=n:Array.isArray(i)?r=i.shift():"object"==typeof i&&(r=i.hidden||"");var a=()=>{var i=this.titles[t]||t,n="";if(Array.isArray(e))i=e.shift()||this.titles[t]||t,n=e.shift()||"";else if("object"==typeof e)var{title:i,content:n}=e;else n=e;this._container().className="force "+t,this._title(i),this._body(n),this._buttons(o,!0),this._container().querySelectorAll("[topdown\\:dismiss]").forEach(t=>{t.addEventListener("click",()=>{this.hide(r)})});var a=this._buttons().querySelector("[topdown\\:dismiss]");a&&a.focus();var d=this._buttons().querySelector("*:last-child");!a&&d&&d.focus(),this.centralize(),this.isFunction(s)&&s()};this.isShown()?this.hide(()=>{this.isFunction(r)&&r(),this.show(a)}):this.show(a)},show(t){var e=()=>{this._container().style.opacity="1",this._container().style.display="block",this.slideDown(),this.isFunction(t)&&t(),this.isFunction(this.globalStates.shown)&&this.globalStates.shown()};clearTimeout(this.timer),this.isShown()?this.hide(e):e()},isShown(){return"block"==this._container().style.display},hide(t){clearTimeout(this.timer),this.isShown()&&(()=>{this.slideUp(()=>{this._container().style.opacity="0",this._container().style.display="none",this.isFunction(t)&&t(),this.isFunction(this.globalStates.hidden)&&this.globalStates.hidden()})})()},dismiss(...t){return this.hide(...t)},isHidden(){return!this.isShown()},slideUp(t){this._container().style.overflow="hidden";var e=()=>{var o=this._container(),i=(parseFloat(this.getStyle(o,"padding-top")),parseFloat(this.getStyle(o,"padding-bottom")),parseFloat(this.getStyle(o,"height"))),n=Math.max(0,i-this.pixels);o.style.height=n+"px",n>0?this.timer=setTimeout(e,10):this.isFunction(t)&&t()};e()},slideDown(t){this._container().style.overflow="hidden";var e=()=>{var o=this._container(),i=parseFloat(this.getStyle(o,"border-top-width")),n=parseFloat(this.getStyle(o,"border-bottom-width")),s=this._wrapper().offsetHeight+i+n,r=(parseFloat(this.getStyle(o,"padding-top")),parseFloat(this.getStyle(o,"padding-bottom")),parseFloat(this.getStyle(o,"height"))),a=Math.min(s,r+this.pixels);o.style.height=a+"px",a<s?this.timer=setTimeout(e,10):this.isFunction(t)&&t()};e()},_styleTag:()=>"#__topdown_container{position:fixed;top:0;min-width:500px;max-width:600px;background:#f3b7bd;border-color:#e4606d;-webkit-box-shadow:0 0 5px 2px rgba(220,53,69,0.2);box-shadow:0 0 5px 2px rgba(220,53,69,0.2);border-width:1px;border-style:solid;border-top:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:999;margin:0 auto}#__topdown_container.error{background:#f3b7bd;border-color:#e4606d;-webkit-box-shadow:0 0 5px 2px rgba(220,53,69,0.2);box-shadow:0 0 5px 2px rgba(220,53,69,0.2)}#__topdown_container.warning{background:#ffe7a0;border-color:#ffce3a;-webkit-box-shadow:0 0 5px 2px rgba(255,193,7,0.2);box-shadow:0 0 5px 2px rgba(255,193,7,0.2)}#__topdown_container.success{background:#86e29b;border-color:#34ce57;-webkit-box-shadow:0 0 5px 2px rgba(40,167,69,0.2);box-shadow:0 0 5px 2px rgba(40,167,69,0.2)}#__topdown_container.info{background:#99caff;border-color:#3395ff;-webkit-box-shadow:0 0 5px 2px rgba(0,123,255,0.2);box-shadow:0 0 5px 2px rgba(0,123,255,0.2)}#__topdown_container ._topdown_wrapper{padding:1rem 1.8rem}#__topdown_container ._topdown_heading{display:flex}#__topdown_container ._topdown_heading ._topdown_title{flex-grow:1;font-size:120%;letter-spacing:2px;font-weight:700;text-transform:uppercase}#__topdown_container a._topdown_dismiss{cursor:pointer;padding:.6rem 1rem;position:absolute;top:0;right:0;}a._topdown_dismiss{color:inherit;text-decoration:none;}#__topdown_container ._topdown_body{margin:5px 0}#__topdown_container ._topdown_footer{text-align:right}#__topdown_container ._topdown_footer a,#__topdown_container ._topdown_footer button{margin:0 0 0 5px}",getStyle(t,e){var o="";return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(t,"").getPropertyValue(e):t.currentStyle&&(e=e.replace(/\-(\w)/g,(t,e)=>e.toUpperCase()),o=t.currentStyle[e]),o},isFunction:t=>t&&"[object Function]"==={}.toString.call(t),createElementFromHTML(t){var e=document.createElement("div");return e.innerHTML=t.trim(),e.firstChild},isDOMElement(t){try{return t instanceof HTMLElement}catch(e){return"object"==typeof t&&1===t.nodeType&&"object"==typeof t.style&&"object"==typeof t.ownerDocument}},parseButtons(t){if(this.isDOMElement(t))return[t];if("object"==typeof t&&"Object"==t.constructor.name){var e=t,o=document.createElement("button");return o.type="button",o.className=e.className||"",o.innerHTML=e.text||"Button",this.isFunction(e.onclick||null)&&o.addEventListener("click",e.onclick),[o]}if(this.globalButtons[t])return this.parseButtons(this.globalButtons[t]);if(Array.isArray(t)){var i=[];return t.forEach(t=>{i[i.length]=this.parseButtons(t).shift()}),i}return t?[this.createElementFromHTML(t)]:[]}};