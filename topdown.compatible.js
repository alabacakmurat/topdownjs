/**
 * TopdownJS is a product of [MA]Lab <muratalabacak.com>
 *  v0.6
 * 
 * You can find the full documentation here:
 *    http://workspace.muratalabacak.com/topdownjs/
 */
"use strict";function ownKeys(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)}return o}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(o),!0).forEach(function(e){_defineProperty(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ownKeys(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}function _defineProperty(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var $$topdown;window.$$topdown=$$topdown={version:.6,options:function(t,e){if(e&&"object"!=_typeof(t)){var o=t;(t={})[o]=e}Array.isArray(t)||"object"!=_typeof(t)||(this.pixels=t.pixels||10,"object"!=_typeof(t.buttons)&&(t.buttons={}),t.buttons.cancel=t.buttons&&t.buttons.cancel||this.globalButtons.cancel,t.buttons.dismiss=t.buttons&&t.buttons.dismiss||this.globalButtons.dismiss,t.buttons.confirm=t.buttons&&t.buttons.confirm||this.globalButtons.confirm,this.globalButtons=_objectSpread(_objectSpread({},this.globalButtons),t.buttons),Array.isArray(t.fallbackButtons)?this.fallbackButtons=t.fallbackButtons:t.fallbackButtons&&(this.fallbackButtons=[t.fallbackButtons]),"object"==_typeof(t.titles)&&(this.titles=_objectSpread(_objectSpread({},this.titles),t.titles)),"object"==_typeof(t.states)&&(this.globalStates=_objectSpread(_objectSpread({},this.globalStates),t.states)))},pixels:10,titles:{success:"SUCCESS",error:"ERROR",warning:"WARNING",info:"INFORMATION",confirm:"CONFIRM"},fallbackButtons:["dismiss"],globalButtons:{dismiss:'<button type="button" topdown:dismiss>Close</button>',cancel:'<button type="button" topdown:dismiss>Cancel</button>',confirm:'<button type="button" topdown:dismiss>Confirm</button>'},globalStates:{shown:null,hidden:null},when:function(t,e){this.globalStates[t]=e},_parent:function(){return document.getElementsByTagName("body")[0]},_container:function(){return this.construct(),document.querySelector('div[id="__topdown_container"]')},get container(){return this._container()},_wrapper:function(){return this.construct(),document.querySelector('div[id="__topdown_container"]>div._topdown_wrapper')},get wrapper(){return this._wrapper()},_title:function(t){var e=t||"";this.construct();var o=this._wrapper().querySelector("div._topdown_heading>._topdown_title");return""!==e&&(o.innerHTML=Array.isArray(e)?e.join(""):e),o},get titleElement(){return this._titleElement()},set title(t){return this._title(t)},_body:function(t){var e=t||"";this.construct();var o=this._wrapper().querySelector("div._topdown_body");return""!==e&&(o.innerHTML=Array.isArray(e)?e.join(""):e),o},get bodyElement(){return this._bodyElement()},set body(t){return this._body(t)},set content(t){return this._body(t)},set text(t){return this._body(t)},_buttons:function(t,e){var o=!0===e&&(t||this.fallbackButtons);this.construct();var n=this._wrapper().querySelector("div._topdown_footer"),i=document.createElement("div");if(!1!==o){var r=this.parseButtons(o);Array.isArray(r)&&(r.forEach(function(t){i.appendChild(t)}),n.innerHTML="",n.appendChild(i))}return n},set buttons(t){return this._buttons(t)},set footer(t){return this._buttons(t)},get footerElement(){return this._footerElement()},centralize:function(){var t=this._container(),e=document.body.clientWidth;if(e<500)t.style.left="0px",t.style.right="0px",t.style.width="auto",t.style.minWidth="auto";else{var o=(e-t.clientWidth)/2;t.style.left=o+"px",t.style.right=null,t.style.width="40vw",t.style.minWidth="500px"}},construct:function(t){var e=this,o=this._parent(),n=document.querySelector('div[id="__topdown_container"]');if(t=!0===t,n)!0===t&&(this.destruct(),this.construct(!1));else{var i=this._styleTag(),r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");r.appendChild(s),s.type="text/css",s.styleSheet?s.styleSheet.cssText=i:s.appendChild(document.createTextNode(i)),(n=document.createElement("div")).setAttribute("id","__topdown_container"),n.className="force",o.prepend(n),n.innerHTML='<div class="_topdown_wrapper"><div class="_topdown_heading"><a class="_topdown_dismiss" topdown:dismiss>&times;</a><div class="_topdown_title"></div></div><div class="_topdown_body"></div><div class="_topdown_footer"></div></div>',this.centralize(),window.addEventListener("resize",function(){e.centralize()}),n.style.opacity="0",n.style.display="none",n.style.height="0px"}},destruct:function(){var t=document.querySelector('div[id="__topdown_container"]');t.parentNode.removeChild(t)},display:function(t,e,o,n,i){var r,s,a=this;this.construct(),this.isFunction(n)?r=n:Array.isArray(n)?r=n.shift():"object"==_typeof(n)&&(r=n.shown||""),this.isFunction(i)?s=i:Array.isArray(n)?s=n.shift():"object"==_typeof(n)&&(s=n.hidden||"");var c=function(){var n=a.titles[t]||t,i="";if(Array.isArray(e))n=e.shift()||a.titles[t]||t,i=e.shift()||"";else if("object"==_typeof(e))n=e.title,i=e.content;else i=e;a._container().className="force "+t,a._title(n),a._body(i),a._buttons(o,!0),a._container().querySelectorAll("[topdown\\:dismiss]").forEach(function(t){t.addEventListener("click",function(){a.hide(s)})});var c=a._buttons().querySelector("[topdown\\:dismiss]");c&&c.focus();var l=a._buttons().querySelector("*:last-child");!c&&l&&l.focus(),a.centralize(),a.isFunction(r)&&r()};this.isShown()?this.hide(function(){a.isFunction(s)&&s(),a.show(c)}):this.show(c)},show:function(t){var e=this,o=function(){e._container().style.opacity="1",e._container().style.display="block",e.slideDown(),e.isFunction(t)&&t(),e.isFunction(e.globalStates.shown)&&e.globalStates.shown()};clearTimeout(this.timer),this.isShown()?this.hide(o):o()},isShown:function(){return"block"==this._container().style.display},hide:function(t){var e=this;clearTimeout(this.timer),this.isShown()&&e.slideUp(function(){e._container().style.opacity="0",e._container().style.display="none",e.isFunction(t)&&t(),e.isFunction(e.globalStates.hidden)&&e.globalStates.hidden()})},dismiss:function(){return this.hide.apply(this,arguments)},isHidden:function(){return!this.isShown()},slideUp:function(t){var e=this;this._container().style.overflow="hidden";!function o(){var n=e._container(),i=(parseFloat(e.getStyle(n,"padding-top")),parseFloat(e.getStyle(n,"padding-bottom")),parseFloat(e.getStyle(n,"height"))),r=Math.max(0,i-e.pixels);n.style.height=r+"px",r>0?e.timer=setTimeout(o,10):e.isFunction(t)&&t()}()},slideDown:function(t){var e=this;this._container().style.overflow="hidden";!function o(){var n=e._container(),i=parseFloat(e.getStyle(n,"border-top-width")),r=parseFloat(e.getStyle(n,"border-bottom-width")),s=e._wrapper().offsetHeight+i+r,a=(parseFloat(e.getStyle(n,"padding-top")),parseFloat(e.getStyle(n,"padding-bottom")),parseFloat(e.getStyle(n,"height"))),c=Math.min(s,a+e.pixels);n.style.height=c+"px",c<s?e.timer=setTimeout(o,10):e.isFunction(t)&&t()}()},_styleTag:function(){return"#__topdown_container{position:fixed;top:0;min-width:500px;max-width:600px;background:#f3b7bd;border-color:#e4606d;-webkit-box-shadow:0 0 5px 2px rgba(220,53,69,0.2);box-shadow:0 0 5px 2px rgba(220,53,69,0.2);border-width:1px;border-style:solid;border-top:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:999;margin:0 auto}#__topdown_container.error{background:#f3b7bd;border-color:#e4606d;-webkit-box-shadow:0 0 5px 2px rgba(220,53,69,0.2);box-shadow:0 0 5px 2px rgba(220,53,69,0.2)}#__topdown_container.warning{background:#ffe7a0;border-color:#ffce3a;-webkit-box-shadow:0 0 5px 2px rgba(255,193,7,0.2);box-shadow:0 0 5px 2px rgba(255,193,7,0.2)}#__topdown_container.success{background:#86e29b;border-color:#34ce57;-webkit-box-shadow:0 0 5px 2px rgba(40,167,69,0.2);box-shadow:0 0 5px 2px rgba(40,167,69,0.2)}#__topdown_container.info{background:#99caff;border-color:#3395ff;-webkit-box-shadow:0 0 5px 2px rgba(0,123,255,0.2);box-shadow:0 0 5px 2px rgba(0,123,255,0.2)}#__topdown_container ._topdown_wrapper{padding:1rem 1.8rem}#__topdown_container ._topdown_heading{display:flex}#__topdown_container ._topdown_heading ._topdown_title{flex-grow:1;font-size:120%;letter-spacing:2px;font-weight:700;text-transform:uppercase}#__topdown_container a._topdown_dismiss{cursor:pointer;padding:.6rem 1rem;position:absolute;top:0;right:0;}a._topdown_dismiss{color:inherit;text-decoration:none;}#__topdown_container ._topdown_body{margin:5px 0}#__topdown_container ._topdown_footer{text-align:right}#__topdown_container ._topdown_footer a,#__topdown_container ._topdown_footer button{margin:0 0 0 5px}"},getStyle:function(t,e){var o="";return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(t,"").getPropertyValue(e):t.currentStyle&&(e=e.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()}),o=t.currentStyle[e]),o},isFunction:function(t){return t&&"[object Function]"==={}.toString.call(t)},createElementFromHTML:function(t){var e=document.createElement("div");return e.innerHTML=t.trim(),e.firstChild},isDOMElement:function(t){try{return t instanceof HTMLElement}catch(e){return"object"===_typeof(t)&&1===t.nodeType&&"object"===_typeof(t.style)&&"object"===_typeof(t.ownerDocument)}},parseButtons:function(t){var e=this;if(this.isDOMElement(t))return[t];if("object"==_typeof(t)&&"Object"==t.constructor.name){var o=t,n=document.createElement("button");return n.type="button",n.className=o.className||"",n.innerHTML=o.text||"Button",this.isFunction(o.onclick||null)&&n.addEventListener("click",o.onclick),[n]}if(this.globalButtons[t])return this.parseButtons(this.globalButtons[t]);if(Array.isArray(t)){var i=[];return t.forEach(function(t){i[i.length]=e.parseButtons(t).shift()}),i}return t?[this.createElementFromHTML(t)]:[]}};