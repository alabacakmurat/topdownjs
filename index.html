<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>TopdownJS</title>
	<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.8.2/css/bulma.min.css"> -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.2/styles/monokai-sublime.min.css">
	<script src="https://cdn.jsdelivr.net/gh/cferdinandi/smooth-scroll@15/dist/smooth-scroll.polyfills.min.js"></script>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.2/highlight.min.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>


	<style>
		* { box-sizing: border-box; }
		body {
			background: #F5F5F5;
			overflow-x: hidden;
		}
		button {
			margin: 3px 0;
		}
		h1, h2 {
			margin: 0 0 2rem 0;
		}
		.title {
			padding-top: 20px;
		}

		code {
			/*user-select: all;*/
		}


		#sidebar .nav {
			display: flex;
			flex-direction: column;
		}
		#sidebar .nav a {
			display: block;
			padding: 0.8rem 1.4rem;
			color: #222;
			text-decoration: none;
		}
		#sidebar .nav a:hover {
			background: #F5F5F5; /*#fff * 3.8*/
		}
		#sidebar .nav a:active {
			background: #F0F0F0; /*#fff * 5.6*/
		}
		#sidebar .nav a.active {
			/*background: #fcbd00;*/
			background: #eee;
			font-weight: bold;
		}
		#sidebar .nav a.active:hover {
			/*background: #FFC107;*/
			background: #E5E5E5;
		}
		#sidebar .nav a.active:active {
			/*background: #f7b900;*/
			background: #e0e0e0;
		}


		#sidebar-wrapper {
			min-height: 100vh;
			margin-left: -17rem;
			width: 17rem;
			-webkit-transition: margin .25s ease-out;
			-moz-transition: margin .25s ease-out;
			-o-transition: margin .25s ease-out;
			transition: margin .25s ease-out;
			background: #FFF;
			border-right: 1px solid #AAA;
		}

		#sidebar {
			position: sticky;
			top: 0;
			width: 17rem;
			max-height: 100vh;
			overflow-y: auto;
			border-right: 1px solid #AAA;
			padding: 2rem 0;
		}

		#sidebar .header {
			font-weight: bold;
			text-align: center;
			font-size: 1.4em;
			margin: 0;
			margin-bottom: 1rem;
			padding: 0;
		}

		#page-content {
			padding: 0 2rem;
			width 100vw;
		}

		#brand_on_xs {
			display: inline-block;
		}
		@media (min-width: 768px) {
			#sidebar-wrapper {
				margin-left: 0;
			}

			#page-content-wrapper {
				min-width: 0;
				width: 100%;
			}

			#brand_on_xs {
				display: none;
			}
		}

	</style>
	<script src="topdown.min.js"></script>
	<script>
		window.onload = () => {
			let smoothScroll = new SmoothScroll('a[href*="#"]', {
				speed: 500,
				speedAsDuration: true,
				// easing: 'easeOutQuint'
			});

			let sidebarLinks = document.querySelectorAll('#sidebar .nav a');
			let sidebarOffsets = [];
			sidebarLinks.forEach(a => {
				// set the offsets
				let targetId = a.getAttribute('href').slice(1),
					target = document.getElementById(targetId);

				if( !!target )
				{
					a.dataset.offset = target.offsetTop;
					sidebarOffsets.unshift([target.offsetTop, a, target]);
				}
			});

			let whatsInRange = (e) => {
				let scroll = document.scrollingElement.scrollTop;
				
				sidebarOffsets.some(data => {
					[offset, link, target] = data;

					if( scroll >= (offset-50) )
					{
						setActiveLink(link)
						return true;
					}
				})
			};

			let setActiveLink = (node) => {
				document.querySelectorAll('#sidebar .nav a.active').forEach(active => {
					active.classList.remove('active');
				});
				node.classList.add('active');
			};
			
			// scroll activity
			window.addEventListener('scroll', () => { whatsInRange(); });
			whatsInRange();
		}


	</script>
</head>
<body>
<div class="d-flex" id="wrapper">
	<div id="sidebar-wrapper">
		<div id="sidebar">
			<div class="header">
				TopdownJS
				<div style="text-align: center; margin-top: 5px; margin-bottom: 10px; font-size: 0.9rem; font-weight: normal;">
					by <a href="http://muratalabacak.com" target="_blank" class=" font-weight-bold" style="color: #333; text-decoration: none !important"><span style="background-color:#D32F2F;color:#FFF;padding:0 4px">MA</span>Lab</a>
				</div>
			</div>
			<div class="nav">
				<a href="#usage">Usage</a>
				<a href="#topdown-classes">1) Topdown classes</a>
				<a href="#predefined-topdown-classes">1.1) Predefined topdowns</a>
				<a href="#title-and-content">2) Title & Content</a>
				<a href="#topdown-buttons">3) Buttons</a>
				<a href="#events-states">4) Events / States</a>
				<a href="#options-methods">5) Options & Methods</a>
				<a href="https://github.com/alabacakmurat/topdownjs" target="_blank">Github</a>
			</div>
		</div>
	</div>
	<!-- /#sidebar-wrapper -->
	<div id="page-content-wrapper">

	<div id="page-content">

		<!-- Sidebar -->
		<h1 class="title" id="usage">
			TopdownJS
			<div id="brand_on_xs" style="font-size: 0.9rem; font-weight: normal;">
				by <a href="http://muratalabacak.com" target="_blank" class=" font-weight-bold" style="color: #333; text-decoration: none !important"><span style="background-color:#D32F2F;color:#FFF;padding:0 4px">MA</span>Lab</a>
			</div>
		</h1>
		<h4 class="title">
			Usage
		</h4>
		<div class="ml-5">
			<em class="badge badge-warning">Javascript</em>
			<pre class="mb-0"><code class="language-javascript">$$topdown.display(CLASS, CONTENT, BUTTONS, CALLBACK);</code></pre>
		</div>


		<h4 class="title mt-5" id="topdown-classes">
			1) Topdown Classes
		</h4>
		<div class="ml-5">
			<div class="mb-3">
				Classes are just basic stylers for topdowns. We already have some useful styles for some specific classes (below). However, you can completely design your own class or override the predefined ones. In order to create a class, you should directly use it in the first argument and then, push the global topdown title for this class in case it's not given manually.
			</div>

			<div class="mb-3">
				<em class="badge badge-warning">Javascript</em>
				<pre class="mb-0"><code class="language-javascript">$$topdown.display('custom-class', 'Hello');</code></pre>
				<button onclick="$$topdown.display('custom-class', 'Hello')">Run code</button>
			</div>

			<div class="mb-3">
				If you happen to run the code above, you'll notice the default style for undefined CSS classes is 'error'. Let's make it purple. You should notice I'm using the <code>#__topdown_container.force</code> class in order to override just to make sure everything will work as expected.
			</div>


			<div class="mb-3">
				<em class="badge badge-danger">CSS</em>
				<pre class="my-0"><code class="my-0 language-css">#__topdown_container.force.custom-class {
	background: #F293F2;
	border-color: #E05FE0;
	box-shadow: 0 0 5px 2px rgba(255,0,255,0.2);
}</code></pre>
				<button onclick="$$topdown.display('custom-class-styled', ['custom-class','Hello'])">Run code</button>
				<style>
					#__topdown_container.force.custom-class-styled {
						/*background: #E586E5;*/
						background: #F293F2;
						border-color: #E05FE0;
						box-shadow: 0 0 5px 2px rgba(255,0,255,0.2);
					}
				</style>
			</div>


			<div class="mb-3">
				Let's define a global title for this topdown class.
			</div>


			<div class="mb-3">
				<em class="badge badge-warning">Javascript</em>
				<pre class="mb-0"><code class="language-javascript">$$topdown.options('titles', {'custom-class': 'My Purple Class'})

$$topdown.display('custom-class', 'Hello')</code></pre>
				<script>$$topdown.options('titles', {'custom-class-styled': 'My Purple Class'})</script>
				<button onclick="$$topdown.display('custom-class-styled', 'Hello')">Run code</button>
			</div>


			<div class="mb-3">
				Let's override the global title!
			</div>


			<div class="mb-3">
				<em class="badge badge-warning">Javascript</em>
				<pre class="mb-0"><code class="language-javascript">$$topdown.options('titles', {'custom-class': 'My Purple Class'})

// Method 1
$$topdown.display('custom-class', ['Title Overridden', 'Hello'])

// Method 2
$$topdown.display('custom-class', {'title': 'Title Overridden', 'content': 'Hello'})
</code></pre>
				<script>$$topdown.options('titles', {'custom-class-styled': 'My Purple Class'})</script>
				<button onclick="$$topdown.display('custom-class-styled', ['Title Overridden', 'Hello'])">Run code</button>
			</div>


			<p>
				Voila! We did it. Time to shine, baby...
			</p>


			<p class="alert alert-info">
				However, don't forget we can override global titles. Check the <strong>Topdown Titles</strong> section.
			</p>
		</div>



		<!-- SECTION -->
		<div class="ml-5">
			<h4 class="title mt-5" id="predefined-topdown-classes">
				1.A) Predefined Topdown Classes
			</h4>
			<div class="ml-5">
				<h5>1) Error Topdown</h5>
				<em class="badge badge-warning">Javascript</em>
				<pre class="mb-0"><code class="language-javascript">$$topdown.display('error');</code></pre>
				<button onclick="$$topdown.display('error')">Run code</button>

				<h5 class="mt-3">2) Warning Topdown</h5>
				<em class="badge badge-warning">Javascript</em>
				<pre class="mb-0"><code class="language-javascript">$$topdown.display('warning');</code></pre>
				<button onclick="$$topdown.display('warning')">Run code</button>

				<h5 class="mt-3">3) Info Topdown</h5>
				<em class="badge badge-warning">Javascript</em>
				<pre class="mb-0"><code class="language-javascript">$$topdown.display('info');</code></pre>
				<button onclick="$$topdown.display('info')">Run code</button>

				<h5 class="mt-3">4) Success Topdown</h5>
				<em class="badge badge-warning">Javascript</em>
				<pre class="mb-0"><code class="language-javascript">$$topdown.display('success');</code></pre>
				<button onclick="$$topdown.display('success')">Run code</button>
			</div>
		</div>



		<!-- SECTION -->
		<h4 class="title mt-5" id="title-and-content">
			2) Title & Content
		</h4>
		<div class="ml-5">
			<div class="mb-3">
				Using TopdownJS, we suggest you to set a global title, a fallback for every topdown call if these calls have no specific title definitions. You can do this by following:
			</div>
			<div class="mb-3">
				<em class="badge badge-warning">Javascript</em>
				<pre class="mb-0"><code class="language-javascript">$$topdown.options('titles', {'custom-class': 'This is a global title'})

$$topdown.display('custom-class', 'Just the content under the global title')</code></pre>
				<script>$$topdown.options('titles', {'custom-class-styled': 'This is a global title'});</script>
				<button onclick="$$topdown.display('custom-class-styled', 'Just the content under the global title')">Run code</button>
			</div>
			<div class="mb-3">
				However, you can use call-specific titles to override the global title. It is just for a fallback when no title is defined on the call.
			</div>
			<div class="mb-3">
				<em class="badge badge-warning">Javascript</em>
				<pre class="mb-0"><code class="language-javascript">$$topdown.options('titles', {'custom-class': 'This is a global title'})

// Method 1:  (array) [TITLE, CONTENT]
$$topdown.display('custom-class', ['Call-specific Title', 'We did it again!'])

// Method 2:  (object) {'title': TITLE: CONTENT}
$$topdown.display('custom-class', {'title': 'My Own Title', 'content': 'My own content'})</code></pre>
				<script>$$topdown.options('titles', {'custom-class-styled': 'This is a global title'});</script>
				<button onclick="$$topdown.display('custom-class-styled', ['Call-specific Title', 'We did it again!'])">Run code &mdash; Method 1</button>
				<button class="ml-3" onclick="$$topdown.display('custom-class-styled', {'title': 'My Own Title', 'content': 'My own content'})">Run code &mdash; Method 2</button>
			</div>
		</div>


		<!-- SECTION -->
		<h4 class="title mt-5" id="topdown-buttons">
			3) Buttons
		</h4>
		<div class="ml-5">
			<div class="mb-3">
				Buttons have almost the same logic with titles. You can create global buttons or call-specific buttons. Buttons take the 3<sup>rd</sup> argument.  
			</div>
			<div class="mb-3">
				<em class="badge badge-warning">Javascript</em>
				<pre class="mb-0"><code class="language-javascript">$$topdown.display('custom-class', 'Just the content under the global title', 'dismiss')</code></pre>
				<button onclick="$$topdown.display('custom-class-styled', 'Just the content under the global title', ['dismiss'])">Run code</button>
			</div>
			<div class="mb-3">
				Let's change the default dismiss button (with bootstrap styles)
			</div>
			<div class="mb-3">
				<em class="badge badge-warning">Javascript</em>
				<pre class="mb-0"><code class="language-javascript">$$topdown.options('buttons', {'dismiss': '&lt;button class="btn btn-danger btn-sm" topdown:dismiss>Close&lt;/button>'})
$$topdown.display('custom-class', 'Just the content under the global title', 'dismiss')</code></pre>
				<button onclick="$$topdown.display('custom-class-styled', 'Just the content under the global title', '<button class=\'btn btn-danger btn-sm\' topdown:dismiss>Close</button>')">Run code</button>

				<div class="alert alert-warning mt-1">
					Did you notice <code class="badge badge-danger">topdown:dismiss</code> attribute when defining our global button for 'dismiss' key? It helps dismiss the topdown.
				</div>
			</div>
			<div class="mb-3">
				And set it for fallback buttons (if no button is given during the call-specific topdown, this will be used)
			</div>
			<div class="mb-3">
				<em class="badge badge-warning">Javascript</em>
				<pre class="mb-0"><code class="language-javascript">$$topdown.options('fallbackButtons', ['dismiss'])

// I didn't set the dismiss button yet it will show up
$$topdown.display('custom-class', 'Just the content under the global title')</code></pre>
				<button onclick="$$topdown.options('fallbackButtons', ['<button class=\'btn btn-danger btn-sm\' topdown:dismiss>Close</button>']);$$topdown.display('custom-class-styled', 'Just the content under the global title with a fallback button')">Run code</button>
			</div>
			<div class="mb-3">
				Time to add more buttons. Let's define a custom predefined button with the name of <code>custom-name</code>.
			</div>
			<div class="mb-3">
				<em class="badge badge-warning">Javascript</em>
				<pre class="mb-0"><code class="language-javascript">$$topdown.options('buttons', {
	// we could define it by html as well
	'custom-button': {
		'text': 'Custom',
		'onclick': () => {
			alert('Clicked to the custom button!')
			$$topdown.dismiss()
		},
		'className': 'btn btn-info btn-sm'
	}
})</code></pre>
				<script>
					$$topdown.options('buttons', {
						// we could define it by html as well
						'custom-button': {
							'text': 'Custom',
							'onclick': () => {
								alert('Clicked to the custom button!')
								$$topdown.dismiss()
							},
							'className': 'btn btn-info btn-sm'
						}
					})
				</script>
		</div>
			<div class="mb-3">
				<em class="badge badge-warning">Javascript</em>
				<pre class="mb-0"><code class="language-javascript">$$topdown.display('custom-class', 'Just the content under the global title', [
	// first button as html
	'&lt;a href="http://google.com" target="_blank" class="btn btn-primary btn-sm">Google&lt;/a>',
	// second one as object
	{
		'text': 'Special one',
		'onclick': () => {
			alert('Clicked to the special one!')
		},
		'className': 'btn btn-success btn-sm'
	},

	// third one is a CUSTOMN predefined/global button
	'custom-button',

	// fourth one is a predefined default button
	'dismiss',
])</code></pre>
				<button onclick="$$topdown.display('custom-class-styled', 'Just the content under the global title', ['<a href=\'http://google.com\' target=\'_blank\' class=\'btn btn-primary btn-sm\'>Google</a>', {'text':'Special one', 'onclick':()=>{alert('Clicked to the special one!');}, 'className': 'btn btn-success btn-sm'}, 'custom-button', '<button class=\'btn btn-danger btn-sm\' topdown:dismiss>Close</button>'])">Run code</button>
			</div>
		</div>




		<!-- SECTION -->
		<h4 class="title mt-5" id="events-states">
			4) Events / States
		</h4>
		<div class="ml-5">
			<div class="mb-3">
				As you're used to the 'global and call-specific' difference, we have it here to with one little difference. Global states are not overridden by call-specific states. They're called alongside with the call-specific states. There are two states for every single topdown. 
			</div>
			<div class="mb-3">
				<em class="badge badge-warning">Javascript</em>
				<pre class="mb-0"><code class="language-javascript">$$topdown.display('custom-class', 'Just the content under the global title', 'dismiss', {
	'shown': () => {
		alert('This will fire when this topdown becomes visible, at the beginning of the animation.')
	},
	'hidden': () => {
		alert('This will fire when this topdown becomes hidden, after the animation is completed.')
	},
})</code></pre>
				<button onclick="state1()">Run code</button>
				<script>
					function state1()
					{
						$$topdown.display('custom-class-styled', 'Just the content under the global title', '<button class=\'btn btn-danger btn-sm\' topdown:dismiss>Close</button>', {
							'shown': () => {
								alert('This will fire when this topdown becomes visible, at the beginning of the animation.')
							},
							'hidden': () => {
								alert('This will fire when this topdown becomes hidden, after the animation is completed.')
							},
						})
					}
				</script>
			</div>
			<div class="mb-3">
				Now let's what we did above with global callbacks/states as well.
			</div>
			<div class="mb-3">
				<em class="badge badge-warning">Javascript</em>
				<pre class="mb-0"><code class="language-javascript">// Method 1 - using .when()
$$topdown.when('shown', () => {
	alert('[GLOBAL - shown]\nThis will fire after the call-specific state, but it will still be called!')
})

// Method 2 - using .options()
$$topdown.options('states', {
	'hidden': () => {
		alert('[GLOBAL - hidden]\nThis will fire after the call-specific state, but it will still be called!')
	}
})

// Let's display our topdown
$$topdown.display('custom-class', 'Just the content under the global title', 'dismiss', {
	'shown': () => {
		alert('This will fire when this topdown becomes visible, at the beginning of the animation.')
	},
	'hidden': () => {
		alert('This will fire when this topdown becomes hidden, after the animation is completed.')
	},
})</code></pre>
				<button onclick="state2()">Run code</button>
				<script>
					function state2()
					{
						$$topdown.when('shown', () => {
							alert('[GLOBAL - shown]\nThis will fire after the call-specific state, but it will still be called!')

							$$topdown.when('shown', null)
						});

						// Method 2 - using .options()
						$$topdown.options('states', {
							'hidden': () => {
								alert('[GLOBAL - hidden]\nThis will fire after the call-specific state, but it will still be called!')

								$$topdown.when('hidden', '')
							}
						});

						$$topdown.display('custom-class-styled', 'Just the content under the global title', ['<button class=\'btn btn-danger btn-sm\' topdown:dismiss>Close</button>'], {
							'shown': () => {
								alert('This will fire when this topdown becomes visible, at the beginning of the animation.')
							},
							'hidden': () => {
								alert('This will fire when this topdown becomes hidden, after the animation is completed.')
							},
						})
					}
				</script>
			</div>
		</div>





		<!-- SECTION -->
		<h4 class="title mt-5" id="options-methods">
			5) Options & Methods
		</h4>
		<div class="ml-5">
			<div class="mb-3">
				We have some other options and methods as well
			</div>

			<div class="ml-5">
				<h4 class="title mt-5">
					5.A) dismiss(callback) <small class="text-muted">or <em>hide(callback)</em></small>
				</h4>
				<div class="ml-5">
					<div class="mb-3">
						Dismisses / closes the current topdown.
					</div>
					<div class="mb-3">
						<pre class="mb-0"><code class="language-javascript">$$topdown.dismiss()</code></pre>
					</div>	
				</div>			
			</div>

			<div class="ml-5">
				<h4 class="title mt-5">
					5.B) show(callback) 
				</h4>
				<div class="ml-5">
					<div class="mb-3">
						Shows the last topdown.
					</div>
					<div class="mb-3">
						<pre class="mb-0"><code class="language-javascript">$$topdown.show()</code></pre>
					</div>	
				</div>			
			</div>

			<div class="ml-5">
				<h4 class="title mt-5">
					5.C) when(state, callback) 
				</h4>
				<div class="ml-5">
					<div class="mb-3">
						Sets a global state. Here are the states: <code>shown</code> and <code>hidden</code>
					</div>
					<div class="mb-3">
						<pre class="mb-0"><code class="language-javascript">$$topdown.when('shown', () => {})</code></pre>
						<pre class="mb-0"><code class="language-javascript">$$topdown.when('hidden', () => {})</code></pre>
					</div>	
				</div>			
			</div>

			<div class="ml-5">
				<h4 class="title mt-5">
					5.D) options(option, value) <small class="text-muted">or <em>options({option: value})</em></small>
				</h4>
				<div class="ml-5">
					<div class="mb-3">
						Sets a global state. Here are the states: <code>shown</code> and <code>hidden</code>
					</div>
					<div class="mb-3">
						<pre class="mb-0"><code class="language-javascript">$$topdown.option('buttons', {'custom-button': '&lt;button>My button&lt;/button>'})</code></pre>
						<pre class="mb-0"><code class="language-javascript">$$topdown.option('states', {'shown': () => { alert('Global shown state') }})</code></pre>
						<pre class="mb-0"><code class="language-javascript">// How many pixels will be removed/added during the animation loop until the topdown becomes visible/hidden?
$$topdown.option('pixels', 10)</code></pre>
					</div>	
				</div>			
			</div> 
		</div>
		<!-- /SECTION -->

		</div>
	</div> <!-- /.box-container -->
</div>

</body>
</html>